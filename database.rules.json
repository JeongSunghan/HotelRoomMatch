{
    "rules": {
        "admins": {
            ".read": "auth != null",
            ".write": false
        },
        "rooms": {
            ".read": true,
            ".write": "auth != null"
        },
        "users": {
            ".read": "auth != null",
            "$sessionId": {
                ".write": "auth != null",
                ".indexOn": ["email"]
            }
        },
        "allowedUsers": {
            ".read": "auth != null",
            ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
        },
        "roommateInvitations": {
            ".read": "auth != null",
            "$invitationId": {
                ".write": "auth != null"
            }
        },
        "join_requests": {
            ".read": "auth != null",
            "$requestId": {
                ".write": "auth != null",
                ".validate": "newData.hasChildren(['fromUserId', 'toRoomNumber'])",
                ".indexOn": ["toUserId", "fromUserId"]
            }
        },
        "roomChangeRequests": {
            ".read": "auth != null",
            "$requestId": {
                ".write": "auth != null"
            }
        },
        "inquiries": {
            ".read": "auth != null && root.child('admins').child(auth.uid).exists()",
            "$inquiryId": {
                ".write": "auth != null"
            }
        },
        "history": {
            ".read": "auth != null && root.child('admins').child(auth.uid).exists()",
            ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
        },
        "settings": {
            ".read": true,
            ".write": "auth != null && root.child('admins').child(auth.uid).exists()"
        },
        "otp_requests": {
            "$emailKey": {
                ".read": "auth != null",
                ".write": "auth != null",
                ".validate": "newData.hasChildren(['hashedCode', 'expiresAt', 'attempts'])"
            }
        }
    }
}
